## 개요
콘서트 예약 서비스 주제로 3주 동안 시스템의 설계, 기능 구현, 테스트 코드를 작성 하며
현업에서 많이들 하는 구성으로 개발을 진행 해보았다.

## 시스템 설계
먼저 구현하기에 앞서 요구사항 분석하는 걸 제일 먼저 시작했다. 사실 나는 일할 때
기능 개발 요청이 들어오면 설계 보단 손이 먼저 가서 코드를 작성하는 사람이었다.
그래서 항상 개발을 진행하다가 뭔가 이상하다 싶으면 다시 수정하고 또 수정하기를 반복하곤 했다.
하지만 이전에 요구사항 분석과 설계의 중요성을 너무 크게 깨달았기 때문에 최대한
주어진 요구사항에 대해서 "뾰족" 하게 분석할 수 있도록 시간을 많이 들였다.
먼저 요구사항들에 대하여 내가 사용자 입장이 되어 내가 사용자라면 어떠한 흐름으로 이 어플리케이션을
사용할지 시나리오를 작성했다. 이후 작상헌 시나리오를 토대로 마일스톤을 만들어 일정 산정을 하고
플로우 차트, 시퀀스 다이어그램을 그렸다. 처음 사용해보는 툴과 어떤 느낌으로 그려야 할지
전혀 감을 못잡아서 여기저기 물어보기도 하고 청강도 많이 들으러 다녔던 것 같다.
이후 문서화가 어느정도 마무리 된 후 만들어진 문서들 기반으로 ERD 설계를 하였고, Mock API와
API SPEC을 만들었다. 이 과정을 통해 느낀점은 코드를 Mock API 말고는 하나도 작성하진
않았지만 벌써 이미 머릿속으로 코드를 다 짜본 느낌이 들었다. 물론 실제 구현 하는데 있어서는
생각과는 다른 부분도 존재했기에 수월하진 않았지만 확실히 설계를 한것과 안한것의 차이를
크게 느낄 수 있었고 설계의 중요성을 다시 한번 깨닫게 된 것 같다.


## 테스트 코드 작성에 대한 느낀점
1. 테스트 코드 작성의 중요성 인식
- 테스트 코드의 존재와 중요성은 알고 있었으나, 실제로 어떻게 작성하는지에 대한 경험이 부족했던 상태.
- 처음에는 귀찮고 시간 소모적이라는 부정적인 인식이 있었으나, 작성과 실행을 반복하면서 필요성과 유용성을 체감. 
2. 초기의 어려움
- 테스트 범위를 설정하는 데 어려움이 있었음.
- 유의미한 테스트보다는 마치 숙제를 하듯 작성하면서, 결과적으로 시간만 소모하는 것처럼 느껴짐.
3. 현재의 변화
- 기능 개발 후 테스트 코드를 실행하지 않으면 불안함을 느낄 정도로 테스트 코드의 중요성을 내재화.
- 단기적으로는 시간이 걸리더라도, 장기적인 관점에서 유지보수성과 배포 안정성 측면에서 큰 이점을 체감.
- 테스트 코드는 이제 필수라는 인식이 생김.
4. 테스트 작성 시 규칙과 개선점
- 도메인 테스트: 핵심 도메인 로직에 대한 테스트 작성 필수.
- 비즈니스 로직 테스트: 단위 테스트를 통해 핵심 로직이 제대로 작동하는지 검증.
- 단위 테스트의 중요성: 단위 테스트를 충실히 작성하면 통합 테스트도 수월해짐.
- 독립적 테스트: 테스트 코드는 서로 영향을 주지 않고 독립적으로 실행될 수 있도록 작성.
5. 앞으로의 방향
- 테스트 코드를 더 많이 작성하고, 작성하는 과정을 귀찮아하지 않음.
- 자신만의 규칙을 만들어 테스트 코드의 품질과 효율성을 점진적으로 개선해나갈 계획.

## 대기열 토큰 검증에 관하여
대기열 토큰의 만료 기간, 활성화/비활성화 상태 검증은 웹 어플리케이션의 보안이나 비즈니스 로직에 깊은 관련이 있다고 생각해
Interceptor를 사용하여 검증하도록 했다.

물론 Filter를 이용한 방식이나 AOP를 이용한 커스텀 애노테이션등 여러 방법이 있지만 Filter의 경우 Interceptor 보다 이전에 실행되어
주로 Http 요청/응답 관련 처리에 유용하고 비즈니스 로직 관련 세부처리에 있어서 제약이 있을 것이라 생각했다. Interceptor의 경우
@RestControllerAdvice를 통해 컨트롤러에서 발생한 예외를 일관되게 처리할 수 있고 AOP 커스텀 애노테이션 보다 구현이 비교적 간단한
Interceptor를 사용했다.



## 회고
개발하면서 내가 이렇게 고민을 많이 하면서 개발 한적이 있나 싶을 정도로 열심히 했던 것 같다.
지금까지는 나는 잘하진 않지만 그래도 보통은 하지 않나?라는 생각으로 막연하게 기능이 동작하는 선에서
마무리 하곤 했는데 이건 너무나 큰 착각이였고 알아야 하고 공부 해야할 것도 너무 많다는 것을 깨달았다.
이번에 개발하면서 패키지 구조를 정말 고민 많이하고 바꾸기도 많이 바꿨는데 예시 패키지 구조를 이해가 제대로
안된 상태로 그냥 좋다고 하니까 그대로 따라 가려고 하다 보니 계속 의심이 생기고 이게 정말 이상적인 구조가 맞을까?
너무 오버엔지니어링인가? 이런 생각에 계속 바꾸다가 이도저도 아니게 되어버리곤 했던 것 같다. (지금의 구조도
사실 맘에 들지 않아서 시간이 된다면 리팩토링 해볼 생각이다.) 그래서 정작 구현해야할 기능도 제대로 구현하지
않고 하다 보니 시간에 쫓기게 되었고 위의 설계 과정이 없었더라면 아마 기간내에 구현하지 못했을 것 같다.

이번 챕터를 통해서 정말 다시 한번 설계의 중요성을 크게 느꼈고 회사일 적응하랴 기능 구현하랴 잠도 줄이고 많이 힘들었지만 
내가 어떤게 부족하고 앞으로 어떤 방향으로 공부를 해야할지 조금은 알게되는 좋은 시간이였던 것 같다.



